{"version":3,"sources":["UI/image/fireball.png","UI/image/char.png","UI/image/magic-spell.png","UI/image/enemy.gif","UI/helpers.js","UI/Magic.js","UI/Character.js","UI/Enemies.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","randomNumBetween","min","max","Math","random","randomNumBetweenExcluding","exMin","exMax","Magic","args","p","center","angle","posDelta","x","y","character","rotation","PI","cos","sin","this","position","velocity","radius","delete","state","screen","width","height","destroy","context","save","translate","rotate","lineWidth","beginPath","img","Image","onload","drawImage","spell","fireball","src","arc","closePath","fill","restore","Character","rotationSpeed","speed","inertia","lastShot","create","onDie","dir","val","keys","up","accelerate","down","brake","left","right","space","Date","now","magic","stroke","Enemies","size","score","addScore","vertices","count","rad","i","round","asteroidVertices","enemies","bind","strokeStyle","moveTo","lineTo","length","enemy","KEY","App","window","innerWidth","innerHeight","ratio","devicePixelRatio","enemiesCount","currentScore","topScore","localStorage","inGame","magics","particles","value","e","setState","keyCode","addEventListener","handleKeys","handleResize","refs","canvas","getContext","startGame","requestAnimationFrame","update","removeEventListener","scale","fillStyle","globalAlpha","fillRect","generateEnemies","checkCollisionsWith","updateObjects","points","createObject","gameOver","howMany","item","group","push","items","index","splice","render","items1","items2","b","a","item1","item2","checkCollision","obj1","obj2","vx","vy","sqrt","message","className","onClick","ref","React","Component","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.96271c25.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fireball.72e67747.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/magic-spell.8d08d775.png\";","module.exports = __webpack_public_path__ + \"static/media/enemy.a7b42e09.gif\";","/**\r\n * \r\n * @param  {Number} count   Number of vertices\r\n * @param  {Number} rad     Maximal radius of polygon\r\n * @return {Array}        Array of vertices: {x: Number, y: Number}\r\n */\r\nexport function asteroidVertices(count, rad) {\r\n\tlet p = [];\r\n\tfor (let i = 0; i < count; i++) {\r\n\t\tp[i] = {\r\n\t\t\tx:\r\n\t\t\t\t(-Math.sin(360 / count * i * Math.PI / 180) + Math.round(Math.random() * 2 - 1) * Math.random() / 3) *\r\n\t\t\t\trad,\r\n\t\t\ty:\r\n\t\t\t\t(-Math.cos(360 / count * i * Math.PI / 180) + Math.round(Math.random() * 2 - 1) * Math.random() / 3) *\r\n\t\t\t\trad\r\n\t\t};\r\n\t}\r\n\treturn p;\r\n}\r\n\r\n/**\r\n   * Rotate point around center on certain angle\r\n   * @param {Object} p        {x: Number, y: Number}\r\n   * @param {Object} center   {x: Number, y: Number}\r\n   * @param {Number} angle    Angle in radians\r\n   */\r\nexport function rotatePoint(p, center, angle) {\r\n\treturn {\r\n\t\tx: (p.x - center.x) * Math.cos(angle) - (p.y - center.y) * Math.sin(angle) + center.x,\r\n\t\ty: (p.x - center.x) * Math.sin(angle) + (p.y - center.y) * Math.cos(angle) + center.y\r\n\t};\r\n}\r\n\r\n/**\r\n   * Random Number between 2 numbers\r\n   */\r\nexport function randomNumBetween(min, max) {\r\n\treturn Math.random() * (max - min + 1) + min;\r\n}\r\n\r\n/**\r\n   * Random Number between 2 numbers excluding a certain range\r\n   */\r\nexport function randomNumBetweenExcluding(min, max, exMin, exMax) {\r\n\tlet random = randomNumBetween(min, max);\r\n\twhile (random > exMin && random < exMax) {\r\n\t\trandom = Math.random() * (max - min + 1) + min;\r\n\t}\r\n\treturn random;\r\n}\r\n","import { rotatePoint } from './helpers';\r\nimport spell from './image/magic-spell.png';\r\nimport fireball from './image/fireball.png';\r\n\r\nexport default class Magic {\r\n\tconstructor(args) {\r\n\t\tlet posDelta = rotatePoint({ x: 0, y: -20 }, { x: 0, y: 0 }, args.character.rotation * Math.PI / 180);\r\n\t\tthis.position = {\r\n\t\t\tx: args.character.position.x + posDelta.x,\r\n\t\t\ty: args.character.position.y + posDelta.y\r\n\t\t};\r\n\t\tthis.rotation = args.character.rotation;\r\n\t\tthis.velocity = {\r\n\t\t\tx: posDelta.x / 2,\r\n\t\t\ty: posDelta.y / 2\r\n\t\t};\r\n\t\tthis.radius = 2;\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.delete = true;\r\n\t}\r\n\r\n\trender(state) {\r\n\t\t// Move\r\n\t\tthis.position.x += this.velocity.x;\r\n\t\tthis.position.y += this.velocity.y;\r\n\r\n\t\t// Delete if it goes out of bounds\r\n\t\tif (\r\n\t\t\tthis.position.x < 0 ||\r\n\t\t\tthis.position.y < 0 ||\r\n\t\t\tthis.position.x > state.screen.width ||\r\n\t\t\tthis.position.y > state.screen.height\r\n\t\t) {\r\n\t\t\tthis.destroy();\r\n\t\t}\r\n\r\n\t\t// Draw\r\n\t\tconst context = state.context;\r\n\t\tcontext.save();\r\n\t\tcontext.translate(this.position.x, this.position.y);\r\n\t\tcontext.rotate(this.rotation * Math.PI / 180);\r\n\t\tcontext.lineWidth = (0, 5);\r\n\t\tcontext.beginPath();\r\n\t\tlet img = new Image();\r\n\t\timg.onload = () => {\r\n\t\t\tcontext.drawImage(img, this.position.x + 65, this.position.y + 55, 20, 20);\r\n\t\t};\r\n\t\tlet source = Math.random() > 0.5 ? spell : fireball;\r\n\t\timg.src = fireball;\r\n\t\tcontext.arc(0, 0, 2, 0, 2 * Math.PI);\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\t\tcontext.restore();\r\n\t}\r\n}\r\n","import character from './image/char.png';\r\nimport Magic from './Magic';\r\nexport default class Character {\r\n\tconstructor(args) {\r\n\t\tthis.position = args.position;\r\n\t\tthis.velocity = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0\r\n\t\t};\r\n\t\tthis.rotation = 0;\r\n\t\tthis.rotationSpeed = 1;\r\n\t\tthis.speed = 0.15;\r\n\t\tthis.inertia = 0.99;\r\n\t\tthis.radius = 20;\r\n\t\tthis.lastShot = 0;\r\n\t\tthis.create = args.create;\r\n\t\tthis.onDie = args.onDie;\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.delete = true;\r\n\t\tthis.onDie();\r\n\r\n\t\t// Explode\r\n\t\t// for (let i = 0; i < 60; i++) {\r\n\t\t// \tconst particle = new Particle({\r\n\t\t// \t\tlifeSpan: randomNumBetween(60, 100),\r\n\t\t// \t\tsize: randomNumBetween(1, 4),\r\n\t\t// \t\tposition: {\r\n\t\t// \t\t\tx: this.position.x + randomNumBetween(-this.radius / 4, this.radius / 4),\r\n\t\t// \t\t\ty: this.position.y + randomNumBetween(-this.radius / 4, this.radius / 4)\r\n\t\t// \t\t},\r\n\t\t// \t\tvelocity: {\r\n\t\t// \t\t\tx: randomNumBetween(-1.5, 1.5),\r\n\t\t// \t\t\ty: randomNumBetween(-1.5, 1.5)\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// \tthis.create(particle, 'particles');\r\n\t\t// }\r\n\t}\r\n\r\n\trotate(dir) {\r\n\t\tif (dir == 'LEFT') {\r\n\t\t\tthis.rotation -= this.rotationSpeed;\r\n\t\t}\r\n\t\tif (dir == 'RIGHT') {\r\n\t\t\tthis.rotation += this.rotationSpeed;\r\n\t\t}\r\n\t}\r\n\r\n\taccelerate(val) {\r\n\t\tthis.velocity.x -= Math.sin(-this.rotation * Math.PI / 180) * this.speed;\r\n\t\tthis.velocity.y -= Math.cos(-this.rotation * Math.PI / 180) * this.speed;\r\n\r\n\t\t// Thruster particles\r\n\t\t// let posDelta = rotatePoint({ x: 0, y: -10 }, { x: 0, y: 0 }, (this.rotation - 180) * Math.PI / 180);\r\n\t\t// const particle = new Particle({\r\n\t\t// \tlifeSpan: randomNumBetween(20, 40),\r\n\t\t// \tsize: randomNumBetween(1, 3),\r\n\t\t// \tposition: {\r\n\t\t// \t\tx: this.position.x + posDelta.x + randomNumBetween(-2, 2),\r\n\t\t// \t\ty: this.position.y + posDelta.y + randomNumBetween(-2, 2)\r\n\t\t// \t},\r\n\t\t// \tvelocity: {\r\n\t\t// \t\tx: posDelta.x / randomNumBetween(3, 5),\r\n\t\t// \t\ty: posDelta.y / randomNumBetween(3, 5)\r\n\t\t// \t}\r\n\t\t// });\r\n\t\t// this.create(particle, 'particles');\r\n\t}\r\n\r\n\tbrake(val) {\r\n\t\t//if (this.velocity.x <= 0 || this.velocity.y <= 0) return;\r\n\t\tthis.velocity.x += Math.sin(-this.rotation * Math.PI / 180) * this.speed ** 1.7;\r\n\t\tthis.velocity.y += Math.cos(-this.rotation * Math.PI / 180) * this.speed ** 1.7;\r\n\t}\r\n\r\n\trender(state) {\r\n\t\t// Controls\r\n\t\tif (state.keys.up) {\r\n\t\t\tthis.accelerate(1);\r\n\t\t}\r\n\t\tif (state.keys.down) {\r\n\t\t\tthis.brake(1);\r\n\t\t}\r\n\t\tif (state.keys.left) {\r\n\t\t\tthis.rotate('LEFT');\r\n\t\t}\r\n\t\tif (state.keys.right) {\r\n\t\t\tthis.rotate('RIGHT');\r\n\t\t}\r\n\t\tif (state.keys.space && Date.now() - this.lastShot > 300) {\r\n\t\t\tconst magic = new Magic({ character: this });\r\n\t\t\tthis.create(magic, 'magics');\r\n\t\t\tthis.lastShot = Date.now();\r\n\t\t}\r\n\r\n\t\t// Move\r\n\t\tthis.position.x += this.velocity.x;\r\n\t\tthis.position.y += this.velocity.y;\r\n\t\tthis.velocity.x *= this.inertia;\r\n\t\tthis.velocity.y *= this.inertia;\r\n\r\n\t\t// Rotation\r\n\t\tif (this.rotation >= 360) {\r\n\t\t\tthis.rotation -= 360;\r\n\t\t}\r\n\t\tif (this.rotation < 0) {\r\n\t\t\tthis.rotation += 360;\r\n\t\t}\r\n\r\n\t\t// Screen edges\r\n\t\tif (this.position.x > state.screen.width) this.position.x = 0;\r\n\t\telse if (this.position.x < 0) this.position.x = state.screen.width;\r\n\t\tif (this.position.y > state.screen.height) this.position.y = 0;\r\n\t\telse if (this.position.y < 0) this.position.y = state.screen.height;\r\n\r\n\t\t// Draw\r\n\r\n\t\tconst context = state.context;\r\n\t\tcontext.save();\r\n\t\t// context.translate(this.position.x, this.position.y);\r\n\r\n\t\t// context.strokeStyle = '#ffffff';\r\n\t\t// context.fillStyle = '#000000';\r\n\t\t// context.lineWidth = 5;\r\n\t\tcontext.beginPath();\r\n\t\tlet img = new Image();\r\n\t\timg.onload = () => {\r\n\t\t\tcontext.drawImage(img, this.position.x, this.position.y, 100, 100);\r\n\t\t};\r\n\t\tcontext.rotate(this.rotation * Math.PI / 180);\r\n\t\timg.src = character;\r\n\t\t// context.moveTo(0, -15);\r\n\t\t// context.lineTo(10, 10);\r\n\t\t// context.lineTo(5, 7);\r\n\t\t// context.lineTo(-5, 7);\r\n\t\t// context.lineTo(-10, 10);\r\n\t\tcontext.closePath();\r\n\t\tcontext.fill();\r\n\t\tcontext.stroke();\r\n\t\tcontext.restore();\r\n\t}\r\n}\r\n","import { asteroidVertices, randomNumBetween } from './helpers';\r\nimport enemy from './image/enemy.gif';\r\nexport default class Enemies {\r\n\tconstructor(args) {\r\n\t\tthis.position = args.position;\r\n\t\tthis.velocity = {\r\n\t\t\tx: randomNumBetween(-1.5, 1.5),\r\n\t\t\ty: randomNumBetween(-1.5, 1.5)\r\n\t\t};\r\n\t\tthis.rotation = 0;\r\n\t\tthis.rotationSpeed = randomNumBetween(-1, 1);\r\n\t\tthis.radius = args.size;\r\n\t\tthis.score = 80 / this.radius * 5;\r\n\t\tthis.create = args.create;\r\n\t\tthis.addScore = args.addScore;\r\n\t\tthis.vertices = asteroidVertices(8, args.size);\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.delete = true;\r\n\t\tthis.addScore(this.score);\r\n\r\n\t\t// Explode\r\n\t\t// for (let i = 0; i < this.radius; i++) {\r\n\t\t// \tconst particle = new Particle({\r\n\t\t// \t\tlifeSpan: randomNumBetween(60, 100),\r\n\t\t// \t\tsize: randomNumBetween(1, 3),\r\n\t\t// \t\tposition: {\r\n\t\t// \t\t\tx: this.position.x + randomNumBetween(-this.radius / 4, this.radius / 4),\r\n\t\t// \t\t\ty: this.position.y + randomNumBetween(-this.radius / 4, this.radius / 4)\r\n\t\t// \t\t},\r\n\t\t// \t\tvelocity: {\r\n\t\t// \t\t\tx: randomNumBetween(-1.5, 1.5),\r\n\t\t// \t\t\ty: randomNumBetween(-1.5, 1.5)\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// \tthis.create(particle, 'particles');\r\n\t\t// }\r\n\r\n\t\t// Break into smaller Enemies\r\n\t\tif (this.radius > 10) {\r\n\t\t\tfor (let i = 0; i < 2; i++) {\r\n\t\t\t\tlet enemies = new Enemies({\r\n\t\t\t\t\tsize: this.radius / 2,\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tx: randomNumBetween(-10, 20) + this.position.x,\r\n\t\t\t\t\t\ty: randomNumBetween(-10, 20) + this.position.y\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcreate: this.create.bind(this),\r\n\t\t\t\t\taddScore: this.addScore.bind(this)\r\n\t\t\t\t});\r\n\t\t\t\tthis.create(enemies, 'enemies');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender(state) {\r\n\t\t// Move\r\n\t\tthis.position.x += this.velocity.x;\r\n\t\tthis.position.y += this.velocity.y;\r\n\r\n\t\t// Rotation\r\n\t\tthis.rotation += this.rotationSpeed;\r\n\t\tif (this.rotation >= 360) {\r\n\t\t\tthis.rotation -= 360;\r\n\t\t}\r\n\t\tif (this.rotation < 0) {\r\n\t\t\tthis.rotation += 360;\r\n\t\t}\r\n\r\n\t\t// Screen edges\r\n\t\tif (this.position.x > state.screen.width + this.radius) this.position.x = -this.radius;\r\n\t\telse if (this.position.x < -this.radius) this.position.x = state.screen.width + this.radius;\r\n\t\tif (this.position.y > state.screen.height + this.radius) this.position.y = -this.radius;\r\n\t\telse if (this.position.y < -this.radius) this.position.y = state.screen.height + this.radius;\r\n\r\n\t\t// Draw\r\n\t\tconst context = state.context;\r\n\t\tcontext.save();\r\n\t\tcontext.translate(this.position.x, this.position.y);\r\n\t\tcontext.rotate(this.rotation * Math.PI / 180);\r\n\t\tcontext.strokeStyle = '#FFF';\r\n\t\tcontext.lineWidth = 2;\r\n\t\tcontext.beginPath();\r\n\t\tlet img = new Image();\r\n\r\n\t\tcontext.moveTo(0, -this.radius);\r\n\t\tfor (let i = 1; i < this.vertices.length; i++) {\r\n\t\t\tcontext.lineTo(this.vertices[i].x - 10, this.vertices[i].y + 23);\r\n\t\t\timg.onload = () => {\r\n\t\t\t\tcontext.drawImage(\r\n\t\t\t\t\timg,\r\n\t\t\t\t\tthis.position.x,\r\n\t\t\t\t\tthis.position.y,\r\n\t\t\t\t\tthis.vertices[i].x * 2,\r\n\t\t\t\t\tthis.vertices[i].y * 2\r\n\t\t\t\t);\r\n\t\t\t};\r\n\t\t}\r\n\t\timg.src = enemy;\r\n\t\tcontext.closePath();\r\n\t\tcontext.stroke();\r\n\t\tcontext.restore();\r\n\t}\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport Character from './UI/Character';\nimport { randomNumBetweenExcluding } from './UI/helpers';\nimport Enemies from './UI/Enemies';\n\nconst KEY = {\n\tLEFT: 37,\n\tRIGHT: 39,\n\tUP: 38,\n\tDOWN: 40,\n\tA: 65,\n\tD: 68,\n\tW: 87,\n\tS: 83,\n\tSPACE: 32\n};\n\nexport class App extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tscreen: {\n\t\t\t\twidth: window.innerWidth,\n\t\t\t\theight: window.innerHeight,\n\t\t\t\tratio: window.devicePixelRatio || 1\n\t\t\t},\n\n\t\t\tcontext: null,\n\t\t\tkeys: {\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tup: 0,\n\t\t\t\tdown: 0,\n\t\t\t\tspace: 0\n\t\t\t},\n\t\t\tenemiesCount: 3,\n\t\t\tcurrentScore: 0,\n\t\t\ttopScore: localStorage['topscore'] || 0,\n\t\t\tinGame: false\n\t\t};\n\t\tthis.character = [];\n\t\tthis.enemies = [];\n\t\tthis.magics = [];\n\t\tthis.particles = [];\n\t}\n\n\thandleResize(value, e) {\n\t\tthis.setState({\n\t\t\tscreen: {\n\t\t\t\twidth: window.innerWidth,\n\t\t\t\theight: window.innerHeight,\n\t\t\t\tratio: window.devicePixelRatio || 1\n\t\t\t}\n\t\t});\n\t}\n\n\thandleKeys(value, e) {\n\t\tlet keys = this.state.keys;\n\t\tif (e.keyCode === KEY.LEFT || e.keyCode === KEY.A) keys.left = value;\n\t\tif (e.keyCode === KEY.RIGHT || e.keyCode === KEY.D) keys.right = value;\n\t\tif (e.keyCode === KEY.UP || e.keyCode === KEY.W) keys.up = value;\n\t\tif (e.keyCode === KEY.DOWN || e.keyCode === KEY.S) keys.down = value;\n\t\tif (e.keyCode === KEY.SPACE) keys.space = value;\n\t\tthis.setState({\n\t\t\tkeys: keys\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('keyup', this.handleKeys.bind(this, false));\n\t\twindow.addEventListener('keydown', this.handleKeys.bind(this, true));\n\t\twindow.addEventListener('resize', this.handleResize.bind(this, false));\n\n\t\tconst context = this.refs.canvas.getContext('2d');\n\t\tthis.setState({ context: context });\n\t\tthis.startGame();\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.update();\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('keyup', this.handleKeys);\n\t\twindow.removeEventListener('keydown', this.handleKeys);\n\t\twindow.removeEventListener('resize', this.handleResize);\n\t}\n\n\tupdate() {\n\t\tconst context = this.state.context;\n\t\tconst keys = this.state.keys;\n\t\tconst character = this.character[0];\n\n\t\tcontext.save();\n\t\tcontext.scale(this.state.screen.ratio, this.state.screen.ratio);\n\n\t\t// Track trail\n\t\tcontext.fillStyle = '#000';\n\t\tcontext.globalAlpha = 0.1;\n\t\tcontext.fillRect(0, 0, this.state.screen.width, this.state.screen.height);\n\t\tcontext.globalAlpha = 0.5;\n\n\t\t// Next set of Enemies\n\t\tif (!this.enemies.length) {\n\t\t\tlet count = this.state.enemiesCount + 1;\n\t\t\tthis.setState({ enemiesCount: count });\n\t\t\tthis.generateEnemies(count);\n\t\t}\n\n\t\t// Check for colisions\n\t\tthis.checkCollisionsWith(this.magics, this.enemies);\n\t\tthis.checkCollisionsWith(this.character, this.enemies);\n\n\t\t// Remove or render\n\t\tthis.updateObjects(this.particles, 'particles');\n\t\tthis.updateObjects(this.enemies, 'enemies');\n\t\tthis.updateObjects(this.magics, 'magics');\n\t\tthis.updateObjects(this.character, 'character');\n\n\t\tcontext.restore();\n\n\t\t// Next frame\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.update();\n\t\t});\n\t}\n\n\taddScore(points) {\n\t\tif (this.state.inGame) {\n\t\t\tthis.setState({\n\t\t\t\tcurrentScore: this.state.currentScore + points\n\t\t\t});\n\t\t}\n\t}\n\n\tstartGame() {\n\t\tthis.setState({\n\t\t\tinGame: true,\n\t\t\tcurrentScore: 0\n\t\t});\n\n\t\t// Make character\n\t\tlet character = new Character({\n\t\t\tposition: {\n\t\t\t\tx: this.state.screen.width / 2,\n\t\t\t\ty: this.state.screen.height / 2\n\t\t\t},\n\t\t\tcreate: this.createObject.bind(this),\n\t\t\tonDie: this.gameOver.bind(this)\n\t\t});\n\t\tthis.createObject(character, 'character');\n\n\t\t// Make enemies\n\t\tthis.enemies = [];\n\t\tthis.generateEnemies(this.state.enemiesCount);\n\t}\n\n\tgameOver() {\n\t\tthis.setState({\n\t\t\tinGame: false\n\t\t});\n\n\t\t// Replace top score\n\t\tif (this.state.currentScore > this.state.topScore) {\n\t\t\tthis.setState({\n\t\t\t\ttopScore: this.state.currentScore\n\t\t\t});\n\t\t\tlocalStorage['topscore'] = this.state.currentScore;\n\t\t}\n\t}\n\n\tgenerateEnemies(howMany) {\n\t\tlet enemies = [];\n\t\tlet character = this.character[0];\n\t\tfor (let i = 0; i < howMany; i++) {\n\t\t\tlet enemies = new Enemies({\n\t\t\t\tsize: 80,\n\t\t\t\tposition: {\n\t\t\t\t\tx: randomNumBetweenExcluding(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tthis.state.screen.width,\n\t\t\t\t\t\tcharacter.position.x - 60,\n\t\t\t\t\t\tcharacter.position.x + 60\n\t\t\t\t\t),\n\t\t\t\t\ty: randomNumBetweenExcluding(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tthis.state.screen.height,\n\t\t\t\t\t\tcharacter.position.y - 60,\n\t\t\t\t\t\tcharacter.position.y + 60\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\tcreate: this.createObject.bind(this),\n\t\t\t\taddScore: this.addScore.bind(this)\n\t\t\t});\n\t\t\tthis.createObject(enemies, 'enemies');\n\t\t}\n\t}\n\n\tcreateObject(item, group) {\n\t\tthis[group].push(item);\n\t}\n\n\tupdateObjects(items, group) {\n\t\tlet index = 0;\n\t\tfor (let item of items) {\n\t\t\tif (item.delete) {\n\t\t\t\tthis[group].splice(index, 1);\n\t\t\t} else {\n\t\t\t\titems[index].render(this.state);\n\t\t\t}\n\t\t\tindex++;\n\t\t}\n\t}\n\n\tcheckCollisionsWith(items1, items2) {\n\t\tvar a = items1.length - 1;\n\t\tvar b;\n\t\tfor (a; a > -1; --a) {\n\t\t\tb = items2.length - 1;\n\t\t\tfor (b; b > -1; --b) {\n\t\t\t\tvar item1 = items1[a];\n\t\t\t\tvar item2 = items2[b];\n\t\t\t\tif (this.checkCollision(item1, item2)) {\n\t\t\t\t\titem1.destroy();\n\t\t\t\t\titem2.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckCollision(obj1, obj2) {\n\t\tvar vx = obj1.position.x - obj2.position.x;\n\t\tvar vy = obj1.position.y - obj2.position.y;\n\t\tvar length = Math.sqrt(vx * vx + vy * vy);\n\t\tif (length < obj1.radius + obj2.radius) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\trender() {\n\t\tlet endgame;\n\t\tlet message;\n\n\t\tif (this.state.currentScore <= 0) {\n\t\t\tmessage = '0 points... So sad.';\n\t\t} else if (this.state.currentScore >= this.state.topScore) {\n\t\t\tmessage = 'Top score with ' + this.state.currentScore + ' points. Woo!';\n\t\t} else {\n\t\t\tmessage = this.state.currentScore + ' Points though :)';\n\t\t}\n\n\t\tif (!this.state.inGame) {\n\t\t\tendgame = (\n\t\t\t\t<div className=\"endgame\">\n\t\t\t\t\t<p>Game over, man!</p>\n\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t<button onClick={this.startGame.bind(this)}>try again?</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{/* {endgame} */}\n\t\t\t\t{/* <span className=\"score current-score\">Score: {this.state.currentScore}</span>\n\t\t\t\t<span className=\"score top-score\">Top Score: {this.state.topScore}</span>\n\t\t\t\t<span className=\"controls\">\n\t\t\t\t\tUse [A][S][W][D] or [←][↑][↓][→] to MOVE<br />\n\t\t\t\t\tUse [SPACE] to SHOOT\n\t\t\t\t</span> */}\n\t\t\t\t<canvas\n\t\t\t\t\tref=\"canvas\"\n\t\t\t\t\twidth={this.state.screen.width * this.state.screen.ratio}\n\t\t\t\t\theight={this.state.screen.height * this.state.screen.ratio}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}