(this["webpackJsonpstill-alive"]=this["webpackJsonpstill-alive"]||[]).push([[0],[,,,function(t,e,i){t.exports=i.p+"static/media/fireball.72e67747.png"},,,function(t,e){t.exports="data:image/png;base64,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"},function(t,e,i){t.exports=i.p+"static/media/magic-spell.8d08d775.png"},function(t,e,i){t.exports=i.p+"static/media/enemy.a7b42e09.gif"},,,,function(t,e,i){t.exports=i(19)},,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(0),o=i.n(s),a=i(5),n=i.n(a),A=(i(17),i(10)),r=i(1),h=i(2),c=i(11),l=i(9),d=(i(18),i(6)),u=i.n(d);function y(t,e){return Math.random()*(e-t+1)+t}function g(t,e,i,s){for(var o=y(t,e);o>i&&o<s;)o=Math.random()*(e-t+1)+t;return o}var p=i(7),v=i.n(p),f=i(3),C=i.n(f),m=function(){function t(e){Object(r.a)(this,t);var i,s,o,a=(i={x:0,y:-20},s={x:0,y:0},o=e.character.rotation*Math.PI/180,{x:(i.x-s.x)*Math.cos(o)-(i.y-s.y)*Math.sin(o)+s.x,y:(i.x-s.x)*Math.sin(o)+(i.y-s.y)*Math.cos(o)+s.y});this.position={x:e.character.position.x+a.x,y:e.character.position.y+a.y},this.rotation=e.character.rotation,this.velocity={x:a.x/2,y:a.y/2},this.radius=2}return Object(h.a)(t,[{key:"destroy",value:function(){this.delete=!0}},{key:"render",value:function(t){var e=this;this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,(this.position.x<0||this.position.y<0||this.position.x>t.screen.width||this.position.y>t.screen.height)&&this.destroy();var i=t.context;i.save(),i.translate(this.position.x,this.position.y),i.rotate(this.rotation*Math.PI/180),i.lineWidth=5,i.beginPath();var s=new Image;s.onload=function(){i.drawImage(s,e.position.x+65,e.position.y+55,20,20)};Math.random()>.5?v.a:C.a;s.src=C.a,i.arc(0,0,2,0,2*Math.PI),i.closePath(),i.fill(),i.restore()}}]),t}(),I=function(){function t(e){Object(r.a)(this,t),this.position=e.position,this.velocity={x:0,y:0},this.rotation=0,this.rotationSpeed=1,this.speed=.15,this.inertia=.99,this.radius=20,this.lastShot=0,this.create=e.create,this.onDie=e.onDie}return Object(h.a)(t,[{key:"destroy",value:function(){this.delete=!0,this.onDie()}},{key:"rotate",value:function(t){"LEFT"==t&&(this.rotation-=this.rotationSpeed),"RIGHT"==t&&(this.rotation+=this.rotationSpeed)}},{key:"accelerate",value:function(t){this.velocity.x-=Math.sin(-this.rotation*Math.PI/180)*this.speed,this.velocity.y-=Math.cos(-this.rotation*Math.PI/180)*this.speed}},{key:"brake",value:function(t){this.velocity.x+=Math.sin(-this.rotation*Math.PI/180)*Math.pow(this.speed,1.7),this.velocity.y+=Math.cos(-this.rotation*Math.PI/180)*Math.pow(this.speed,1.7)}},{key:"render",value:function(t){var e=this;if(t.keys.up&&this.accelerate(1),t.keys.down&&this.brake(1),t.keys.left&&this.rotate("LEFT"),t.keys.right&&this.rotate("RIGHT"),t.keys.space&&Date.now()-this.lastShot>300){var i=new m({character:this});this.create(i,"magics"),this.lastShot=Date.now()}this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.velocity.x*=this.inertia,this.velocity.y*=this.inertia,this.rotation>=360&&(this.rotation-=360),this.rotation<0&&(this.rotation+=360),this.position.x>t.screen.width?this.position.x=0:this.position.x<0&&(this.position.x=t.screen.width),this.position.y>t.screen.height?this.position.y=0:this.position.y<0&&(this.position.y=t.screen.height);var s=t.context;s.save(),s.beginPath();var o=new Image;o.onload=function(){s.drawImage(o,e.position.x,e.position.y,100,100)},s.rotate(this.rotation*Math.PI/180),o.src=u.a,s.closePath(),s.fill(),s.stroke(),s.restore()}}]),t}(),Q=i(8),k=i.n(Q),S=function(){function t(e){Object(r.a)(this,t),this.position=e.position,this.velocity={x:y(-1.5,1.5),y:y(-1.5,1.5)},this.rotation=0,this.rotationSpeed=y(-1,1),this.radius=e.size,this.score=80/this.radius*5,this.create=e.create,this.addScore=e.addScore,this.vertices=function(t,e){for(var i=[],s=0;s<t;s++)i[s]={x:(-Math.sin(360/t*s*Math.PI/180)+Math.round(2*Math.random()-1)*Math.random()/3)*e,y:(-Math.cos(360/t*s*Math.PI/180)+Math.round(2*Math.random()-1)*Math.random()/3)*e};return i}(8,e.size)}return Object(h.a)(t,[{key:"destroy",value:function(){if(this.delete=!0,this.addScore(this.score),this.radius>10)for(var e=0;e<2;e++){var i=new t({size:this.radius/2,position:{x:y(-10,20)+this.position.x,y:y(-10,20)+this.position.y},create:this.create.bind(this),addScore:this.addScore.bind(this)});this.create(i,"enemies")}}},{key:"render",value:function(t){var e=this;this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.rotation+=this.rotationSpeed,this.rotation>=360&&(this.rotation-=360),this.rotation<0&&(this.rotation+=360),this.position.x>t.screen.width+this.radius?this.position.x=-this.radius:this.position.x<-this.radius&&(this.position.x=t.screen.width+this.radius),this.position.y>t.screen.height+this.radius?this.position.y=-this.radius:this.position.y<-this.radius&&(this.position.y=t.screen.height+this.radius);var i=t.context;i.save(),i.translate(this.position.x,this.position.y),i.rotate(this.rotation*Math.PI/180),i.strokeStyle="#FFF",i.lineWidth=2,i.beginPath();var s=new Image;i.moveTo(0,-this.radius);for(var o=function(t){i.lineTo(e.vertices[t].x-10,e.vertices[t].y+23),s.onload=function(){i.drawImage(s,e.position.x,e.position.y,2*e.vertices[t].x,2*e.vertices[t].y)}},a=1;a<this.vertices.length;a++)o(a);s.src=k.a,i.closePath(),i.stroke(),i.restore()}}]),t}(),b=37,w=39,x=38,E=40,B=65,W=68,O=87,F=83,K=32,G=function(t){Object(c.a)(i,t);var e=Object(l.a)(i);function i(){var t;return Object(r.a)(this,i),(t=e.call(this)).state={screen:{width:window.innerWidth,height:window.innerHeight,ratio:window.devicePixelRatio||1},context:null,keys:{left:0,right:0,up:0,down:0,space:0},enemiesCount:3,currentScore:0,topScore:localStorage.topscore||0,inGame:!1},t.character=[],t.enemies=[],t.magics=[],t.particles=[],t}return Object(h.a)(i,[{key:"handleResize",value:function(t,e){this.setState({screen:{width:window.innerWidth,height:window.innerHeight,ratio:window.devicePixelRatio||1}})}},{key:"handleKeys",value:function(t,e){var i=this.state.keys;e.keyCode!==b&&e.keyCode!==B||(i.left=t),e.keyCode!==w&&e.keyCode!==W||(i.right=t),e.keyCode!==x&&e.keyCode!==O||(i.up=t),e.keyCode!==E&&e.keyCode!==F||(i.down=t),e.keyCode===K&&(i.space=t),this.setState({keys:i})}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("keyup",this.handleKeys.bind(this,!1)),window.addEventListener("keydown",this.handleKeys.bind(this,!0)),window.addEventListener("resize",this.handleResize.bind(this,!1));var e=this.refs.canvas.getContext("2d");this.setState({context:e}),this.startGame(),requestAnimationFrame((function(){t.update()}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeys),window.removeEventListener("keydown",this.handleKeys),window.removeEventListener("resize",this.handleResize)}},{key:"update",value:function(){var t=this,e=this.state.context;this.state.keys,this.character[0];if(e.save(),e.scale(this.state.screen.ratio,this.state.screen.ratio),e.fillStyle="#000",e.globalAlpha=.1,e.fillRect(0,0,this.state.screen.width,this.state.screen.height),e.globalAlpha=.5,!this.enemies.length){var i=this.state.enemiesCount+1;this.setState({enemiesCount:i}),this.generateEnemies(i)}this.checkCollisionsWith(this.magics,this.enemies),this.checkCollisionsWith(this.character,this.enemies),this.updateObjects(this.particles,"particles"),this.updateObjects(this.enemies,"enemies"),this.updateObjects(this.magics,"magics"),this.updateObjects(this.character,"character"),e.restore(),requestAnimationFrame((function(){t.update()}))}},{key:"addScore",value:function(t){this.state.inGame&&this.setState({currentScore:this.state.currentScore+t})}},{key:"startGame",value:function(){this.setState({inGame:!0,currentScore:0});var t=new I({position:{x:this.state.screen.width/2,y:this.state.screen.height/2},create:this.createObject.bind(this),onDie:this.gameOver.bind(this)});this.createObject(t,"character"),this.enemies=[],this.generateEnemies(this.state.enemiesCount)}},{key:"gameOver",value:function(){this.setState({inGame:!1}),this.state.currentScore>this.state.topScore&&(this.setState({topScore:this.state.currentScore}),localStorage.topscore=this.state.currentScore)}},{key:"generateEnemies",value:function(t){for(var e=this.character[0],i=0;i<t;i++){var s=new S({size:80,position:{x:g(0,this.state.screen.width,e.position.x-60,e.position.x+60),y:g(0,this.state.screen.height,e.position.y-60,e.position.y+60)},create:this.createObject.bind(this),addScore:this.addScore.bind(this)});this.createObject(s,"enemies")}}},{key:"createObject",value:function(t,e){this[e].push(t)}},{key:"updateObjects",value:function(t,e){var i,s=0,o=Object(A.a)(t);try{for(o.s();!(i=o.n()).done;){i.value.delete?this[e].splice(s,1):t[s].render(this.state),s++}}catch(a){o.e(a)}finally{o.f()}}},{key:"checkCollisionsWith",value:function(t,e){for(var i,s=t.length-1;s>-1;--s)for(i=e.length-1;i>-1;--i){var o=t[s],a=e[i];this.checkCollision(o,a)&&(o.destroy(),a.destroy())}}},{key:"checkCollision",value:function(t,e){var i=t.position.x-e.position.x,s=t.position.y-e.position.y;return Math.sqrt(i*i+s*s)<t.radius+e.radius}},{key:"render",value:function(){var t;return t=this.state.currentScore<=0?"0 points... So sad.":this.state.currentScore>=this.state.topScore?"Top score with "+this.state.currentScore+" points. Woo!":this.state.currentScore+" Points though :)",this.state.inGame||o.a.createElement("div",{className:"endgame"},o.a.createElement("p",null,"Game over, man!"),o.a.createElement("p",null,t),o.a.createElement("button",{onClick:this.startGame.bind(this)},"try again?")),o.a.createElement("div",null,o.a.createElement("canvas",{ref:"canvas",width:this.state.screen.width*this.state.screen.ratio,height:this.state.screen.height*this.state.screen.ratio}))}}]),i}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.96271c25.chunk.js.map